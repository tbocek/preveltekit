<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>*{box-sizing:border-box;margin:0;padding:0}body{font-family:system-ui,-apple-system,sans-serif;color:#333;line-height:1.6}a{color:inherit;text-decoration:none}code{font-family:ui-monospace,SFMono-Regular,Menlo,monospace}.container{max-width:960px;margin:0 auto;padding:0 20px}.header{background:#1a1a2e;color:#fff;padding:16px 0;position:sticky;top:0;z-index:10}.header-inner{max-width:960px;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between}.brand{font-size:1.3em;font-weight:700;color:#fff}.nav{display:flex;gap:24px}.nav a{color:#ccc;font-size:14px;transition:color .2s}.nav a:hover{color:#fff}.footer{padding:32px 0;background:#1a1a2e;color:#999;text-align:center;font-size:.9em}@media(max-width:768px){.nav{gap:12px}.nav a{font-size:13px}}.btc-page.v2{padding:40px 0}.btc-page.v2 h1.v2{font-size:2.2em;color:#1a1a2e;margin-bottom:8px}.subtitle.v2{color:#666;margin-bottom:32px;font-size:1.05em}.btc-card.v2{background:#fff;padding:2rem;border-radius:8px;border:1px solid #e5e7eb;text-align:center;max-width:500px;margin-bottom:32px}.price-header.v2{display:flex;justify-content:space-between;margin-bottom:1rem;color:#666}.symbol.v2{font-weight:600;color:#f7931a;font-size:1.1em}.update-time.v2{font-size:.875rem}.price.v2{font-size:2.5rem;font-weight:700;margin:1rem 0;color:#1a1a2e}.disclaimer.v2{display:block;color:#888;margin-top:1rem;padding-top:1rem;border-top:1px solid #e9ecef;font-size:.8rem}.loading.v2{color:#666;font-size:1.1rem;padding:2rem 0}.error.v2{color:#e53e3e;margin-bottom:1rem}.retry-btn.v2{padding:8px 16px;background:#1a1a2e;color:#fff;border:none;border-radius:4px;cursor:pointer}.retry-btn.v2:hover{background:#0f3460}.btc-code.v2{max-width:700px}.btc-code.v2 h2.v2{font-size:1.3em;color:#1a1a2e;margin-bottom:8px}.btc-code.v2>p.v2{color:#555;margin-bottom:16px;font-size:.95em}.btc-code.v2 code.v2{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-size:.85em}.btc-code.v2 pre.v2{background:#1a1a2e;color:#e0e0e0;padding:16px;border-radius:6px;overflow-x:auto;font-size:13px;line-height:1.6}.btc-code.v2 pre.v2 code.v2{background:transparent;padding:0;font-size:inherit}.hero.v0{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%);color:#fff;padding:80px 0;text-align:center}.hero.v0 h1.v0{font-size:3em;margin-bottom:16px;font-weight:800}.tagline.v0{font-size:1.2em;color:#b8c5d6;max-width:600px;margin:0 auto 24px}.hero-badges.v0{display:flex;gap:12px;justify-content:center}.badge.v0{background:rgba(255,255,255,.12);padding:6px 16px;border-radius:20px;font-size:13px;font-weight:500;border:1px solid rgba(255,255,255,.2)}.highlights.v0{padding:60px 0;background:#f8f9fa}.highlight-grid.v0{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.highlight-card.v0{padding:24px;background:#fff;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.08)}.highlight-card.v0 h3.v0{font-size:1.1em;margin-bottom:8px;color:#1a1a2e}.highlight-card.v0 p.v0{font-size:.95em;color:#555}.explore.v0{padding:60px 0}.explore.v0 h2.v0{text-align:center;font-size:2em;margin-bottom:40px;color:#1a1a2e}.explore-grid.v0{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.explore-card.v0{padding:24px;border:1px solid #e5e7eb;border-radius:8px}.explore-card.v0 h3.v0{font-size:1.1em;margin-bottom:8px;color:#1a1a2e}.explore-card.v0 p.v0{font-size:.9em;color:#666;margin-bottom:16px}.explore-links.v0{display:flex;gap:12px}.explore-links.v0 a.v0{display:inline-block;padding:8px 16px;border-radius:4px;font-size:13px;font-weight:500;background:#1a1a2e;color:#fff;transition:background .2s}.explore-links.v0 a.v0:hover{background:#0f3460}.explore-links.v0 a[external].v0{background:#f8f9fa;color:#1a1a2e;border:1px solid #ddd}.explore-links.v0 a[external].v0:hover{background:#e5e7eb}.features.v0{padding:60px 0;background:#f8f9fa}.features.v0 h2.v0{text-align:center;font-size:2em;margin-bottom:40px;color:#1a1a2e}.feature-grid.v0{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.feature-card.v0{padding:24px;border:1px solid #e5e7eb;border-radius:8px;text-align:center;background:#fff}.feature-icon.v0{font-size:2em;margin-bottom:12px}.feature-card.v0 h3.v0{font-size:1em;margin-bottom:8px;color:#1a1a2e}.feature-card.v0 p.v0{font-size:.9em;color:#666}.feature-card.v0 code.v0{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-size:.85em}.quickstart.v0{padding:60px 0}.quickstart.v0 h2.v0{text-align:center;font-size:2em;margin-bottom:40px;color:#1a1a2e}.steps.v0{max-width:700px;margin:0 auto}.step.v0{display:flex;gap:20px;margin-bottom:32px}.step-num.v0{width:36px;height:36px;background:#1a1a2e;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.step-content.v0{flex:1}.step-content.v0 h3.v0{font-size:1.1em;margin-bottom:12px;color:#1a1a2e}.step-content.v0 pre.v0{background:#1a1a2e;color:#e0e0e0;padding:16px;border-radius:6px;overflow-x:auto;font-size:13px;line-height:1.5}.step-hint.v0{font-size:.9em;color:#666;margin-top:8px}.step-hint.v0 code.v0{background:#e5e7eb;padding:2px 6px;border-radius:3px;font-size:.85em}@media(max-width:768px){.highlight-grid.v0,.feature-grid.v0,.explore-grid.v0{grid-template-columns:1fr}.hero.v0 h1.v0{font-size:2em}.tagline.v0{font-size:1em}}.manual.v1{padding:40px 0}.manual.v1 h1.v1{font-size:2.2em;color:#1a1a2e;margin-bottom:8px}.intro.v1{color:#666;margin-bottom:32px;font-size:1.05em}.toc.v1{margin-bottom:40px;padding:20px;background:#f8f9fa;border-radius:8px}.toc.v1 h2.v1{font-size:1em;margin-bottom:12px;color:#1a1a2e}.toc.v1 ul.v1{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:8px}.toc.v1 li.v1 a.v1{display:inline-block;padding:6px 14px;background:#1a1a2e;color:#fff;border-radius:4px;font-size:13px;transition:background .2s}.toc.v1 li.v1 a.v1:hover{background:#0f3460}.manual.v1 section.v1{margin-bottom:32px;padding:24px;border:1px solid #e5e7eb;border-radius:8px;background:#fff}.manual.v1 section.v1 h2.v1{font-size:1.3em;color:#1a1a2e;margin-bottom:8px}.manual.v1 section.v1>p.v1{color:#555;margin-bottom:16px;font-size:.95em}.manual.v1 section.v1 code.v1{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-size:.85em}.manual.v1 section.v1 pre.v1{background:#1a1a2e;color:#e0e0e0;padding:16px;border-radius:6px;overflow-x:auto;font-size:13px;line-height:1.6}.manual.v1 section.v1 pre.v1 code.v1{background:transparent;padding:0;font-size:inherit}@media(max-width:768px){.toc.v1 ul.v1{flex-direction:column}}</style>
    </head>
    <body>
        <header class="header"><div class="header-inner"><a href="/" class="brand">PrevelteKit</a><nav class="nav"><a href="/manual">Manual</a><a href="/bitcoin">Bitcoin Demo</a><a href="https://github.com/tbocek/preveltekit" external>GitHub</a></nav></div></header><div id="content"><!--r0s--><div class="btc-page v2"><div class="container v2"><h1 class="v2">Bitcoin Price</h1><p class="subtitle v2">Live price fetched from CryptoCompare API with auto-refresh every 60 seconds.</p><div class="btc-card v2"><!--bitcoinDemo_i0s--><p class="loading v2">Loading...</p><!--bitcoinDemo_i0--></div><div class="btc-code v2"><h2 class="v2">How it works</h2><p class="v2">This demo uses <code class="v2">p.Get[T]()</code> to fetch JSON, <code class="v2">p.SetInterval()</code> for auto-refresh, and lifecycle hooks for setup/teardown.</p><pre class="v2"><code class="v2">type BitcoinDemo struct {
    Price       *p.Store[string]
    Loading     *p.Store[bool]
    Error       *p.Store[string]
    stopRefresh func()
}

func (b *BitcoinDemo) OnMount() {
    if p.IsBuildTime { return }
    b.FetchPrice()
    b.stopRefresh = p.SetInterval(60000, func() {
        b.FetchPrice()
    })
}

func (b *BitcoinDemo) OnDestroy() {
    if b.stopRefresh != nil {
        b.stopRefresh()
    }
}

func (b *BitcoinDemo) FetchPrice() {
    b.Loading.Set(true)
    go func() {
        resp, err := p.Get[PriceResponse](url)
        if err != nil {
            b.Error.Set(err.Error())
            b.Loading.Set(false)
            return
        }
        b.Price.Set(formatPrice(resp.RAW.PRICE))
        b.Loading.Set(false)
    }()
}</code></pre></div></div></div><!--r0--></div><footer class="footer"><div class="container"><p>SSR + WASM hydration &bull; Pure Go &bull; Static deployment &bull; No JavaScript required</p></div></footer>
        <script src="wasm_exec.js"></script>
        <script>
            const go = new Go();
            WebAssembly.instantiateStreaming(
                fetch("main.wasm"),
                go.importObject,
            ).then((result) => go.run(result.instance));
        </script>
        <script>
            new EventSource("/livereload").onmessage = () => location.reload();
        </script>
    </body>
</html>
