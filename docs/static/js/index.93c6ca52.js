(()=>{"use strict";var e={960:function(e,t,s){var o=s(694);s(772),s(23);var l=s(9);function i(e){let t=t=>{if(0===t.button&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&!t.shiftKey){t.preventDefault();let o=e.getAttribute("href")||"";if(o.startsWith("http://")||o.startsWith("https://")||o.startsWith("//")||e.hasAttribute("external"))window.location.href=o;else{var s;let e;if(o.startsWith("/"))e=o;else if(""===o||"#"===o)e=window.location.pathname;else{let t=window.location.pathname;e=("/"===t?"/":t.endsWith("/")?t:t+"/")+o}if((e=e.replace(/([^:]\/)\/+/g,"$1")).includes("../")){let t=e.split("/"),s=[];for(let e of t)".."===e?s.length>1&&s.pop():""!==e&&"."!==e&&s.push(e);e="/"+s.join("/")}s=e,history.pushState(null,"",s),window.dispatchEvent(new CustomEvent("svelteNavigate",{detail:{path:s}}))}}};return e.addEventListener("click",t),{destroy(){e.removeEventListener("click",t)}}}var r=l.XKW("<h1> </h1>"),n=l.XKW(`<div class="hero svelte-iopek6"><h1 class="svelte-iopek6"> </h1> <p class="subtitle svelte-iopek6">A Modern Framework for Building Fast, SEO-Friendly Web Applications</p> <div class="cta-buttons svelte-iopek6"><a href="doc" class="cta-button primary svelte-iopek6">View Documentation</a> <a href="example" class="cta-button secondary svelte-iopek6">Try Bitcoin Demo</a> <div class="server-side-indicator svelte-iopek6">(these links are client-side routed links)</div></div> <div class="features svelte-iopek6"><div class="feature svelte-iopek6"><h3 class="svelte-iopek6">‚ö°Ô∏è Lightning Fast</h3> <p class="svelte-iopek6">Pre-rendered pages with hydration for optimal performance</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üìà Real-time Data</h3> <p class="svelte-iopek6">Seamless integration with external APIs and live updates</p></div> <div class="feature svelte-iopek6"><h3 class="svelte-iopek6">üîÑ SSPR Support</h3> <p class="svelte-iopek6">Server-Side Pre-Rendering for better SEO</p></div></div></div>`);function a(e){let t=l.VwA("Welcome to PrevelteKit");window?.JSDOM&&l.t8m(t,"Server-Side Pre-Rendered with PrevelteKit, you see this in the source code, you may see it flashing briefly, but you will not see this in the DOM after loading");var s=n(),o=l.iUc(s),r=l.iUc(o,!0);l.mcB(o);var a=l.J9n(o,4),c=l.iUc(a);l.aDg(c,e=>i?.(e));var v=l.J9n(c,2);l.aDg(v,e=>i?.(e)),l.lpx(2),l.mcB(a),l.lpx(2),l.mcB(s),l.OwZ(()=>l.u7_(r,l.U2M(t))),l.R3I(e,s)}var c=l.XKW(`<div class="docs svelte-2orxox"><header class="svelte-2orxox"><h1 class="svelte-2orxox">PrevelteKit Documentation</h1> <p class="render-info svelte-2orxox"> </p></header> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Getting Started</h2> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">git clone https://github.com/tbocek/preveltekit.git
cd preveltekit
pnpm install
pnpm dev    # Development mode
pnpm build  # Production build</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Core Features</h2> <h3 class="svelte-2orxox">üì¶ Server-Side Pre-Rendering (SSPR)</h3> <p class="svelte-2orxox">Unlike traditional SSR or SSG, SSPR pre-renders your app at build time while maintaining full interactivity through hydration.
            This gives you the best of both worlds: fast initial loads and dynamic functionality.</p> <h3 class="svelte-2orxox">‚ö° Build System</h3> <p class="svelte-2orxox">Built on Rsbuild for lightning-fast builds. The system automatically handles:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">TypeScript compilation and type checking</li> <li class="svelte-2orxox">Asset optimization and bundling</li> <li class="svelte-2orxox">CSS processing and minification</li> <li class="svelte-2orxox">Production optimizations like code splitting</li></ul> <h3 class="svelte-2orxox">üîÑ Development Workflow</h3> <p class="svelte-2orxox">Three modes available to suit your needs:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">Development (pnpm dev)</strong>: Express server with fast rebuilds and hot module replacement</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Staging (pnpm stage)</strong>: Production build with local preview server</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">Production (pnpm build)</strong>: Optimized build with pre-compression (Brotli, Gzip, Zstandard)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">SSPR Development</h2> <h3 class="svelte-2orxox">üîç Detecting Server Pre-Rendering</h3> <p class="svelte-2orxox">PrevelteKit uses <code class="svelte-2orxox">window.JSDOM</code> to indicate when code is running during server pre-rendering.
            This is crucial for handling client-side-only code like API calls and intervals.</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <h3 class="svelte-2orxox">üîÑ Handling Client-Side Operations</h3> <p class="svelte-2orxox">When working with APIs, timers, or browser-specific features, wrap them in a JSDOM check to prevent execution during pre-rendering:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Common use cases for JSDOM checks:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">API calls and data fetching</li> <li class="svelte-2orxox">Browser APIs (localStorage, sessionStorage)</li> <li class="svelte-2orxox">Timers and intervals</li> <li class="svelte-2orxox">DOM manipulation</li> <li class="svelte-2orxox">Browser-specific features (geolocation, notifications)</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Static Site Configuration</h2> <p class="svelte-2orxox">To add static routes to your application, configure them in <code class="svelte-2orxox">rsbuild.config.ts</code>.
            Each route needs an entry in the configuration. For example, to add routes for <code class="svelte-2orxox">/doc</code> and <code class="svelte-2orxox">/example</code>:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox"></code></pre></div> <p class="svelte-2orxox"><strong class="svelte-2orxox">Important Notes:</strong></p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Each entry key becomes a URL path in your application</li> <li class="svelte-2orxox">Subdirectories are not currently supported</li> <li class="svelte-2orxox">All entries point to the same <code class="svelte-2orxox">index.ts</code> file</li> <li class="svelte-2orxox">The router in your application will handle the actual component rendering</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Docker Support</h2> <p class="svelte-2orxox">Development environment:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build -f Dockerfile.dev . -t preveltekit-dev
docker run -p3000:3000 -v./src:/app/src -v./public:/app/public preveltekit-dev</code></pre></div> <p class="svelte-2orxox">Production build:</p> <div class="code-block svelte-2orxox"><pre class="svelte-2orxox"><code class="svelte-2orxox">docker build . -t preveltekit
docker run -p3000:3000 preveltekit</code></pre></div></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Project Structure</h2> <ul class="svelte-2orxox"><li class="svelte-2orxox"><strong class="svelte-2orxox">/src</strong>: Application source code</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/public</strong>: Static assets</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">/dist</strong>: Production build output</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">rsbuild.config.ts</strong>: Build configuration</li> <li class="svelte-2orxox"><strong class="svelte-2orxox">ssr.mjs</strong>: SSPR implementation</li></ul></section> <section class="svelte-2orxox"><h2 class="svelte-2orxox">Deployment</h2> <p class="svelte-2orxox">The production build generates static files with pre-compressed variants:</p> <ul class="svelte-2orxox"><li class="svelte-2orxox">Standard files (.js, .css, .html)</li> <li class="svelte-2orxox">Brotli compressed (.br)</li> <li class="svelte-2orxox">Gzip compressed (.gz)</li> <li class="svelte-2orxox">Zstandard compressed (.zst)</li></ul> <p class="svelte-2orxox">Deploy to any static hosting or web server that supports serving compressed assets.</p></section></div>`);function v(e){let t=l.VwA("Client Rendered");window?.JSDOM&&l.t8m(t,"Server Pre-Rendered");var s=c(),o=l.iUc(s),i=l.J9n(l.iUc(o),2),r=l.iUc(i);l.mcB(i),l.mcB(o);var n=l.J9n(o,6),a=l.J9n(l.iUc(n),6),v=l.iUc(a);l.iUc(v).textContent='// Basic detection\nlet renderInfo = "Client Rendered";\nif (window?.JSDOM) {\n    renderInfo = "Server Pre-Rendered";\n}',l.mcB(v),l.mcB(a);var d=l.J9n(a,6),p=l.iUc(d);l.iUc(p).textContent="$effect(() => {\n    if (!window?.JSDOM) {\n        fetchBitcoinPrice();\n        // Set up refresh interval\n        const interval = setInterval(fetchBitcoinPrice, 60000);\n        return () => clearInterval(interval);\n    }\n});",l.mcB(p),l.mcB(d),l.lpx(4),l.mcB(n);var x=l.J9n(n,2),u=l.J9n(l.iUc(x),4),h=l.iUc(u);l.iUc(h).textContent="export default defineConfig({\n    environments: {\n        web: {\n            plugins: [\n                pluginSvelte(),\n                pluginCssMinimizer()\n            ],\n            source: {\n                entry: {\n                    // Each entry corresponds to a static route\n                    index: './src/index.ts',    // https://example.com/\n                    doc: './src/index.ts',      // https://example.com/doc\n                    example: './src/index.ts',  // https://example.com/example\n                }\n            },\n            output: {\n                target: 'web',\n                minify: process.env.NODE_ENV === 'production',\n            }\n        }\n    }\n});",l.mcB(h),l.mcB(u),l.lpx(4),l.mcB(x),l.lpx(6),l.mcB(s),l.OwZ(()=>l.u7_(r,`(${l.U2M(t)??""})`)),l.R3I(e,s)}var d=l.XKW('<div class="loading svelte-1r0itt8">Loading Bitcoin prices...</div>'),p=l.XKW('<div class="error svelte-1r0itt8"> <button class="svelte-1r0itt8">Retry</button></div>'),x=l.XKW('<div class="price-card svelte-1r0itt8"><div class="price-header svelte-1r0itt8"><span class="currency-code svelte-1r0itt8"><!></span> <span class="update-time svelte-1r0itt8"> </span></div> <div class="current-price svelte-1r0itt8"><!> </div></div> <div class="disclaimer svelte-1r0itt8">Cryptocurrency prices are highly volatile and subject to market risks. The displayed price information is for reference only and may not reflect real-time market conditions. Past performance is not indicative of future results. Please conduct your own research and consider your financial situation before making any investment decisions.</div>',1),u=l.XKW('<div class="bitcoin-dashboard svelte-1r0itt8"><div class="header svelte-1r0itt8"><h2 class="svelte-1r0itt8">Bitcoin Price Tracker</h2> <p class="render-info svelte-1r0itt8"> </p></div> <div class="price-display svelte-1r0itt8"><!></div></div>');function h(e,t){l.VFu(t,!0);let s=l.SBE(null),o=l.SBE(!0),i=l.SBE(null),r=l.SBE("Client Rendered");async function n(){try{l.t8m(o,!0),l.t8m(i,null);let e=await fetch("https://min-api.cryptocompare.com/data/generateAvg?fsym=BTC&tsym=USD&e=coinbase");if(!e.ok)throw Error("Failed to fetch data");l.t8m(s,await e.json(),!0)}catch(e){l.t8m(i,e instanceof Error?e.message:"An error occurred",!0)}finally{l.t8m(o,!1)}}window?.JSDOM&&l.t8m(r,"Server Pre-Rendered"),l.JcM(()=>{if(!window?.JSDOM){n();let e=setInterval(n,6e4);return()=>clearInterval(e)}});var a=u(),c=l.iUc(a),v=l.J9n(l.iUc(c),2),h=l.iUc(v);l.mcB(v),l.mcB(c);var m=l.J9n(c,2),f=l.iUc(m),g=e=>{var t=d();l.R3I(e,t)},w=(e,t)=>{var o=e=>{var t=p(),s=l.iUc(t);l.J9n(s).__click=n,l.mcB(t),l.OwZ(()=>l.u7_(s,`Error: ${l.U2M(i)??""} `)),l.R3I(e,t)},r=(e,t)=>{var o=e=>{var t=x(),o=l.VHm(t),i=l.iUc(o),r=l.iUc(i),n=l.iUc(r);l.dyc(n,()=>l.U2M(s).RAW.FROMSYMBOL,!1,!1),l.mcB(r);var a=l.J9n(r,2),c=l.iUc(a);l.mcB(a),l.mcB(i);var v=l.J9n(i,2),d=l.iUc(v);l.dyc(d,()=>l.U2M(s).RAW.TOSYMBOL,!1,!1);var p=l.J9n(d);l.mcB(v),l.mcB(o),l.lpx(2),l.OwZ(()=>{l.u7_(c,`Last Updated: ${l.U2M(s).RAW.LASTUPDATE??""}`),l.u7_(p,` ${l.U2M(s).RAW.PRICE??""}`)}),l.R3I(e,t)};l.if(e,e=>{l.U2M(s)&&e(o)},t)};l.if(e,e=>{l.U2M(i)?e(o):e(r,!1)},t)};l.if(f,e=>{l.U2M(o)&&!l.U2M(s)?e(g):e(w,!1)}),l.mcB(m),l.mcB(a),l.OwZ(()=>l.u7_(h,`(${l.U2M(r)??""})`)),l.R3I(e,a),l.Swx()}l.clJ(["click"]);var m=l.XKW(`<div class="app svelte-r00r93"><nav class="svelte-r00r93"><div class="nav-content svelte-r00r93"><div class="nav-items svelte-r00r93"><span class="logo svelte-r00r93">PrevelteKit</span> <div class="nav-links svelte-r00r93"><a href="./" class="svelte-r00r93">Home</a> <a href="./doc" class="svelte-r00r93">Documentation</a> <a href="./example" class="svelte-r00r93">Example</a> <a href="https://github.com/tbocek/preveltekit/" target="_blank" rel="noopener noreferrer" aria-label="Link to project on GitHub" class="svelte-r00r93"><svg height="24" viewBox="0 0 16 16" width="24" style="fill: #4299e1;"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a> <div class="server-side-indicator svelte-r00r93">(these links are server-side routed links)</div></div></div></div></nav> <main class="svelte-r00r93"><div class="content svelte-r00r93"><!></div></main> <footer class="svelte-r00r93"><div class="footer-content svelte-r00r93"><p><span class="highlight">PrevelteKit</span> ‚Ä¢ Lightning fast builds ‚Ä¢ Pre-rendered SPA ‚Ä¢ Pure HTML/CSS/JS output</p></div></footer></div>`);(0,o.ZB)(function(e){var t=m(),s=l.J9n(l.iUc(t),2),i=l.iUc(s);!function(e,t){var s,i,n,a;l.VFu(t,!0),l.fD6(t,["$$slots","$$events","$$legacy"]);let c=l.SBE("/"),v=l.nKH(()=>t.routes||[]),d=()=>{l.t8m(c,window.location.pathname,!0)},p=e=>{l.t8m(c,e.detail.path,!0)};(0,o.H3)(()=>{if(l.t8m(c,window.location.pathname,!0),window.addEventListener("popstate",d),window.addEventListener("svelteNavigate",p),window?.JSDOM){let e=[...l.U2M(v)];window.__svelteRoutes=e}}),(0,o.ev)(()=>{window.removeEventListener("popstate",d),window.removeEventListener("svelteNavigate",p)});let x=l.nKH(()=>(function(e){let t="/"===e?"/":e.endsWith("/")?e.slice(0,-1):e,s=null;for(let e of l.U2M(v)){let o=e.path,l=!1,i={},r=0,n="/"===o?"/":o.endsWith("/")?o.slice(0,-1):o;if("/"===n)l="/"===t,r=100;else if("**/"===n||"**/"===n)l="/"===t,r=1;else if("*/"===n||"*"===n)"/"===t?(l=!0,r=1):1===t.split("/").filter(Boolean).length&&(l=!0,r=1);else if(n.startsWith("*/")){let e=n.slice(2);l=t==="/"+e||RegExp(`^\\/([^\\/]+)\\/${e}$`).test(t),r=2}else if(n.startsWith("*")){let e=n.slice(1);(t===e||e.startsWith("/")&&t.endsWith(e))&&(l=!0,r=2)}else{let e=n.split("/").filter(Boolean),s=t.split("/").filter(Boolean);if(e.length===s.length){l=!0,r=0;for(let t=0;t<e.length;t++){let o=e[t],n=s[t];if(o.startsWith(":"))i[o.slice(1)]=n,r+=5;else if(o===n)r+=10;else{l=!1;break}}}}l&&(!s||r>s.specificity)&&(s={component:e.component,params:i,specificity:r})}return s?{component:s.component,params:s.params}:{component:null,params:{}}})(l.U2M(c))),u=l.nKH(()=>l.U2M(x).component),h=l.nKH(()=>l.U2M(x).params);s=l.UI8(),i=l.VHm(s),n=e=>{var t=l.UI8(),s=l.VHm(t);l.DBn(s,()=>l.U2M(u),()=>({params:l.U2M(h)})),l.R3I(e,t)},a=e=>{var t=r(),s=l.iUc(t);l.mcB(t),l.OwZ(()=>l.u7_(s,`404 - Page Not Found for [${l.U2M(c)??""}]`)),l.R3I(e,t)},l.if(i,e=>{l.U2M(u)?e(n):e(a,!1)}),l.R3I(e,s),l.Swx()}(l.iUc(i),{routes:[{path:"*/doc",component:v,static:"doc.html"},{path:"*/example",component:h,static:"example.html"},{path:"*/",component:a,static:"index.html"}]}),l.mcB(i),l.mcB(s),l.lpx(2),l.mcB(t),l.R3I(e,t)},{target:document.getElementById("root"),props:{}})}},t={};function s(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}s.m=e,s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];s.O=(t,o,l,i)=>{if(o){i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[o,l,i];return}for(var n=1/0,r=0;r<e.length;r++){for(var[o,l,i]=e[r],a=!0,c=0;c<o.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every(e=>s.O[e](o[c]))?o.splice(c--,1):(a=!1,i<n&&(n=i));if(a){e.splice(r--,1);var v=l();void 0!==v&&(t=v)}}return t}})(),s.rv=()=>"1.2.8",(()=>{var e={980:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var l,i,[r,n,a]=o,c=0;if(r.some(t=>0!==e[t])){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(a)var v=a(s)}for(t&&t(o);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(v)},o=self.webpackChunkpreveltekit=self.webpackChunkpreveltekit||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),s.ruid="bundler=rspack@1.2.8";var o=s.O(void 0,["750"],function(){return s(960)});o=s.O(o)})();