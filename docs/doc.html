<!DOCTYPE html><html lang="en"><head>
    <title>PrevelteKit</title>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer="" src="./static/js/690.1f96bc10.js"></script><script defer="" src="./static/js/index.8b6f3ab1.js"></script><link href="./static/css/index.42233756.css" rel="stylesheet"></head>
<body>
<div id="root"><div class="app svelte-161racf"><nav class="svelte-161racf"><div class="nav-content svelte-161racf"><div class="nav-items svelte-161racf"><span class="logo svelte-161racf">PrevelteKit</span> <div class="nav-links svelte-161racf"><a href="./" class="svelte-161racf">Home</a> <a href="./doc" class="svelte-161racf">Documentation</a> <a href="./example" class="svelte-161racf">Example</a> <a href="https://github.com/tbocek/preveltekit/" target="_blank" rel="noopener noreferrer" aria-label="Link to project on GitHub" class="svelte-161racf"><svg height="24" viewBox="0 0 16 16" width="24" style="fill: #4299e1;"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a> <div class="server-side-indicator svelte-161racf">(these links are server-side routed links)</div></div></div></div></nav> <main class="svelte-161racf"><div class="content svelte-161racf"><!----><!----><div class="docs svelte-b5svct"><header class="svelte-b5svct"><h1 class="svelte-b5svct">PrevelteKit Documentation</h1> <p class="render-info svelte-b5svct">(Server Pre-Rendered)</p></header> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Getting Started</h2> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">git clone https://github.com/tbocek/preveltekit.git
cd preveltekit
pnpm install
pnpm dev    # Development mode
pnpm build  # Production build</code></pre></div></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Core Features</h2> <h3 class="svelte-b5svct">üì¶ Server-Side Pre-Rendering (SSPR)</h3> <p class="svelte-b5svct">Unlike traditional SSR or SSG, SSPR pre-renders your app at build time while maintaining full interactivity through hydration.
            This gives you the best of both worlds: fast initial loads and dynamic functionality.</p> <h3 class="svelte-b5svct">‚ö° Build System</h3> <p class="svelte-b5svct">Built on Rsbuild for lightning-fast builds. The system automatically handles:</p> <ul class="svelte-b5svct"><li class="svelte-b5svct">TypeScript compilation and type checking</li> <li class="svelte-b5svct">Asset optimization and bundling</li> <li class="svelte-b5svct">CSS processing and minification</li> <li class="svelte-b5svct">Production optimizations like code splitting</li></ul> <h3 class="svelte-b5svct">üîÑ Development Workflow</h3> <p class="svelte-b5svct">Three modes available to suit your needs:</p> <ul class="svelte-b5svct"><li class="svelte-b5svct"><strong class="svelte-b5svct">Development (pnpm dev)</strong>: Express server with fast rebuilds and hot module replacement</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">Staging (pnpm stage)</strong>: Production build with local preview server</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">Production (pnpm build)</strong>: Optimized build with pre-compression (Brotli, Gzip, Zstandard)</li></ul></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">SSPR Development</h2> <h3 class="svelte-b5svct">üîç Detecting Server Pre-Rendering</h3> <p class="svelte-b5svct">PrevelteKit uses <code class="svelte-b5svct">window.JSDOM</code> to indicate when code is running during server pre-rendering.
            This is crucial for handling client-side-only code like API calls and intervals.</p> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">// Basic detection
let renderInfo = "Client Rendered";
if (window?.JSDOM) {
    renderInfo = "Server Pre-Rendered";
}</code></pre></div> <h3 class="svelte-b5svct">üîÑ Handling Client-Side Operations</h3> <p class="svelte-b5svct">When working with APIs, timers, or browser-specific features, wrap them in a JSDOM check to prevent execution during pre-rendering:</p> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">$effect(() =&gt; {
    if (!window?.JSDOM) {
        fetchBitcoinPrice();
        // Set up refresh interval
        const interval = setInterval(fetchBitcoinPrice, 60000);
        return () =&gt; clearInterval(interval);
    }
});</code></pre></div> <p class="svelte-b5svct"><strong class="svelte-b5svct">Common use cases for JSDOM checks:</strong></p> <ul class="svelte-b5svct"><li class="svelte-b5svct">API calls and data fetching</li> <li class="svelte-b5svct">Browser APIs (localStorage, sessionStorage)</li> <li class="svelte-b5svct">Timers and intervals</li> <li class="svelte-b5svct">DOM manipulation</li> <li class="svelte-b5svct">Browser-specific features (geolocation, notifications)</li></ul></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Static Site Configuration</h2> <p class="svelte-b5svct">To add static routes to your application, configure them in <code class="svelte-b5svct">rsbuild.config.ts</code>.
            Each route needs an entry in the configuration. For example, to add routes for <code class="svelte-b5svct">/doc</code> and <code class="svelte-b5svct">/example</code>:</p> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">export default defineConfig({
    environments: {
        web: {
            plugins: [
                pluginSvelte(),
                pluginCssMinimizer()
            ],
            source: {
                entry: {
                    // Each entry corresponds to a static route
                    index: './src/index.ts',    // https://example.com/
                    doc: './src/index.ts',      // https://example.com/doc
                    example: './src/index.ts',  // https://example.com/example
                }
            },
            output: {
                target: 'web',
                minify: process.env.NODE_ENV === 'production',
            }
        }
    }
});</code></pre></div> <p class="svelte-b5svct"><strong class="svelte-b5svct">Important Notes:</strong></p> <ul class="svelte-b5svct"><li class="svelte-b5svct">Each entry key becomes a URL path in your application</li> <li class="svelte-b5svct">Subdirectories are not currently supported</li> <li class="svelte-b5svct">All entries point to the same <code class="svelte-b5svct">index.ts</code> file</li> <li class="svelte-b5svct">The router in your application will handle the actual component rendering</li></ul></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Docker Support</h2> <p class="svelte-b5svct">Development environment:</p> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">docker build -f Dockerfile.dev . -t preveltekit-dev
docker run -p3000:3000 -v./src:/app/src -v./public:/app/public preveltekit-dev</code></pre></div> <p class="svelte-b5svct">Production build:</p> <div class="code-block svelte-b5svct"><pre class="svelte-b5svct"><code class="svelte-b5svct">docker build . -t preveltekit
docker run -p3000:3000 preveltekit</code></pre></div></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Project Structure</h2> <ul class="svelte-b5svct"><li class="svelte-b5svct"><strong class="svelte-b5svct">/src</strong>: Application source code</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">/public</strong>: Static assets</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">/dist</strong>: Production build output</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">rsbuild.config.ts</strong>: Build configuration</li> <li class="svelte-b5svct"><strong class="svelte-b5svct">ssr.mjs</strong>: SSPR implementation</li></ul></section> <section class="svelte-b5svct"><h2 class="svelte-b5svct">Deployment</h2> <p class="svelte-b5svct">The production build generates static files with pre-compressed variants:</p> <ul class="svelte-b5svct"><li class="svelte-b5svct">Standard files (.js, .css, .html)</li> <li class="svelte-b5svct">Brotli compressed (.br)</li> <li class="svelte-b5svct">Gzip compressed (.gz)</li> <li class="svelte-b5svct">Zstandard compressed (.zst)</li></ul> <p class="svelte-b5svct">Deploy to any static hosting or web server that supports serving compressed assets.</p></section></div><!----></div></main> <footer class="svelte-161racf"><div class="footer-content svelte-161racf"><p><span class="highlight">PrevelteKit</span> ‚Ä¢ Lightning fast builds ‚Ä¢ Pre-rendered SPA ‚Ä¢ Pure HTML/CSS/JS output</p></div></footer></div></div>

</body></html>